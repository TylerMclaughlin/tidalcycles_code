// 'Just Like Heaven' by The Cure.  Cover by R Tyler, with MIDI to Strudel converter
// https://github.com/TylerMclaughlin/midi_to_tidalcycles

$: note("a4 ~!3 a4 ~!3 a4 ~ a4 ~ a4 ~ e4 ~!3 e4 ~!3 e4 ~!3 e4 ~!3 e4 ~ b4 ~!3 b4 ~!3 b4 ~ b4 ~!3 d5 ~!3 d5 ~!3 d5 ~!3 d5 ~ d5 ~ d5 ~")
  .gain("0.79 0!3 0.79 0!3 0.79 0 0.79 0 0.79 0 0.79 0!3 0.79 0!3 0.79 0!3 0.79 0!3 0.79 0 0.79 0!3 0.79 0!3 0.79 0 0.79 0!3 0.79 0!3 0.79 0!3 0.79 0!3 0.79 0 0.79 0 0.79 0")
  .legato("3.0 0!3 3.0 0!3 1.0 0 1.0 0 1.0 0 3.0 0!3 3.0 0!3 3.0 0!3 3.0 0!3 1.0 0 3.0 0!3 3.0 0!3 1.0 0 3.0 0!3 3.0 0!3 3.0 0!3 3.0 0!3 1.0 0 1.0 0 2.0 0")
  .slow(16.0/4)
  .transpose("-36")
  .sound('gm_electric_bass_finger').lpf(1000).distort("2").cpm(151/4)._punchcard()

$: note("db6 ~!3 db6 ~!3 db6 ~ db6 ~ db6 ~ b5 ~!3 b5 ~!3 b5 ~!3 b5 \
          \ ~ b5 ~!3 d6 ~!3 d6 ~!3 d6 ~ d6 ~ d6 ~ gb6 ~!3 gb6 ~!3 gb6 ~!3 gb6 ~ gb6 ~!3")
  .gain("0.79 0!3 0.79 0!3 0.79 0 0.79 0 0.79 0 0.79 0!3 0.79 0!3 0.79 \
        \ 0!3 0.79 0 0.79 0!3 0.79 0!3 0.79 0!3 0.79 0 0.79 0 0.79 0 \
        \ 0.79 0!3 0.79 0!3 0.79 0!3 0.79 0 0.79 0!3")
  .legato("4.0 0!3 4.0 0!3 2.0 0 2.0 0 1.0 0 4.0 0!3 4.0 0!3 4.0 0!3 \
          \ 2.0 0 4.0 0!3 4.0 0!3 4.0 0!3 2.0 0 2.0 0 2.0 0 4.0 0!3 \
          4.0 0!3 4.0 0!3 2.0 0 4.0 0!3")
.slow(16.0/4).transpose("-12").sound('gm_acoustic_guitar_steel').cpm(151/4).room(0.1).color("magenta")._punchcard()


$: note("a8 ~!15 ab8 ~!5 e8 ~!5 d8 ~!19 db8 ~!5 d8 ~!5 e8 ~!3")
  .gain("0.79 0.5!15 0.79 0!5 0.79 0!5 0.79 0!19 0.79 0!5 0.79 0!5 0.79 0!3")
  .legato("15.0 1!15 3.0 0!5 5.0 0!5 19.0 0!19 5.0 0!5 5.0 0!5 4.0 0!3")
  .slow(16.0/4).transpose("-24").sound('gm_pad_warm').cpm(151/4).room(0.5).color("cyan")._punchcard()

// lead guitar
$: note("db8 ~ db8 ~ db8 ~ b7 ~!3 b7 ~ a7 ~!3 ab7 ~!3 ab7 ~ gb7 ~!3 gb7 ~ \
          \ e7 ~!3 d7 ~!3 d7 ~ d7 ~ db7 ~ d7 ~ e7 ~!3 b6 ~ b6 ~ b6 ~ a6 ~!3 a6 \
          \ ~ b6 ~!3 db8 ~ db8 ~ db8 ~ b7 ~!3 b7 ~ a7 ~!3 ab7 ~ ab7 ~ ab7 ~ gb7 \
          \ ~!3 gb7 ~ e7 ~!3 d7 ~!3 d7 ~ d7 ~ db7 ~ d7 ~ e7 ~!3 b6 ~ b6 ~ b6 ~  \
           a6 ~!3 a6 ~ b6 ~!3 db7 ~!3 db7 ~ d7 ~!3 d7 ~ e7 ~!3 gb7 ~!3  \
          gb7 ~ ab7 ~!3 ab7 ~ a7 ~!3 b7 ~!3 b7 ~ db8 ~!3 db8 ~ d8 ~!3 e8 ~!3  \
          \ e8 ~ d8 ~!3 d8 ~ db8 ~!3 db8 ~ db8 ~ db8 ~ b7 ~!3 b7 ~ a7 ~!3 ab7 \
          \ ~ ab7 ~ ab7 ~ gb7 ~!3 gb7 ~ e7 ~!3 d7 ~!3 d7 ~ d7 ~ db7 ~ d7 ~ e7  \
          ~!3 b6 ~ b6 ~ b6 ~ a6 ~!3 a6 ~!5")
  .legato("1.0 0 1.0 0 1.0 0 3.0 0!3 1.0 0 3.0 0!3 3.0 0!3 1.0 0 3.0 0!3 1.0 0 \
          \ 3.0 0!3 3.0 0!3 1.0 0 1.0 0 1.0 0 1.0 0 3.0 0!3 1.0 0 1.0 0 1.0 0 \
          \ 3.0 0!3 1.0 0 3.0 0!3 1.0 0 1.0 0 1.0 0 3.0 0!3 1.0 0 3.0 0!3 1.0 0 \
          \ 1.0 0 1.0 0 3.0 0!3 1.0 0 3.0 0!3 3.0 0!3 1.0 0 1.0 0 1.0 0 1.0 0  \
          \ 3.0 0!3 1.0 0 1.0 0 1.0 0 3.0 0!3 1.0 0 3.0 0!3 3.0 0!3 1.0 0 3.0 \
          \ 0!3 1.0 0 3.0 0!3 3.0 0!3 1.0 0 3.0 0!3 1.0 0 3.0 0!3 3.0 0!3 1.0 \
          \ 0 3.0 0!3 1.0 0 3.0 0!3 3.0 0!3 1.0 0 3.0 0!3 1.0 0 3.0 0!3 1.0 0 1.0 \
          \ 0 1.0 0 3.0 0!3 1.0 0 3.0 0!3 1.0 0 1.0 0 1.0 0 3.0 0!3 1.0 0 3.0 0!3 \
          3.0 0!3 1.0 0 1.0 0 1.0 0 1.0 0 3.0 0!3 1.0 0 1.0 0 1.0 0 3.0 0!3 6.0 0!5")
  .slow(64.0/4).transpose("-36").gain("[1 0.8 0.7 0.6]*4")
  .sound('gm_electric_guitar_clean').cpm(151/4)
  .room(0.5).rsize(6).color('yellow')._punchcard()


$: stack (
   s("bd sd [bd bd] [sd bd] [~ bd] [sd bd] bd [sd bd]").slow(2).bank("linndrum").lpf(5000),
   s("[hh]*8").bank("RolandTR808").gain("[0.3 0.03]*4")
  ).compressor("-20:20:10:.002:.02").swingBy(1/3,8).distort(0.5).room(0.25).cpm(151/4).color("green")._punchcard()


