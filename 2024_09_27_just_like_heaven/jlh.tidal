:script "~/Music/ableton_songs/toolz.tidal"

setbpm 151

d4 silence

-- bass
d1 $ (|- n 12) $ slow (16.0/4) $ stack [
     n (tScale "0 2 4 9 11" $ "-2 ~!3 -2 ~!3 -2 ~ -2 ~ -2 ~ -3 ~!3 -3 ~!3 -3 ~!3 -3 ~!3 -3 ~ -1 ~!3 -1 ~!3 -1 ~ -1 ~!3 1 ~!3 1 ~!3 1 ~!3 1 ~ 1 ~ 1 ~" )
     # legato "3.0 0!3 3.0 0!3 1.0 0.0 1.0 0.0 1.0 0.0 3.0 0!3 3.0 0!3 3.0 0!3 3.0 0!3 1.0 0.0 3.0 0!3 3.0 0!3 1.0 0.0 3.0 0!3 3.0 0!3 3.0 0!3 3.0 0!3 1.0 0.0 1.0 0.0 2.0 0.0"
     ] # m 1

-- guitar
d2 $ -- slow 2 $ sliceDiv 0 8 16 16 $ fast 2 $
     ( # legato 2) $ slow (16.0/4) $ stack [
     n (tScale "0 1 2 6 11" $ "6 ~!3 6 ~!3 6 ~ 6 ~ 6 ~ 4 ~!3 4 ~!3 4 ~!3 4 ~ 4 ~!3 7 ~!3 7 ~!3 7 ~ 7 ~ 7 ~ 8 ~!3 8 ~!3 8 ~!3 8 ~ 8 ~!3" )
     # legato "4.0 0!3 4.0 0!3 2.0 0.0 2.0 0.0 1.0 0.0 4.0 0!3 4.0 0!3 4.0 0!3 2.0 0.0 4.0 0!3 4.0 0!3 4.0 0!3 2.0 0.0 2.0 0.0 2.0 0.0 4.0 0!3 4.0 0!3 4.0 0!3 2.0 0.0 4.0 0!3"
     ] # m 2

getnow 64

-- synth
d3 $ slow (16.0/4) $ stack [
     n (tScale "0 1 2 4 8 9" $ "23 ~!15 22 ~!5 21 ~!5 20 ~!19 19 ~!5 20 ~!5 21 ~!3" )
     # legato "15.0 0!15 5.0 0!5 5.0 0!5 19.0 0!19 5.0 0!5 5.0 0!5 4.0 0!3"
     ] # m 3


-- lead
d4 $ (|+ nT "oct" 2 "0 12") $ (|- n 12) $ slow (64.0/4) $ stack [
     n (tScale "0 1 2 4 6 8 9 11" $
     ("25 ~ 25 ~ 25 ~ 23 ~!3 23 ~ 22 ~!3 21 ~!3 21 ~ 20 ~!3 20 ~ 19 ~!3 18 ~!3 18 ~ 18 ~ 17 ~ 18 ~ 19 ~!3 15 ~ 15 ~ 15 ~ 14 ~!3 14 ~ 15 ~!3 25 ~ 25 ~ 25 ~ 23 ~!3 23 ~ 22 ~!3 21 ~ 21 ~ 21 ~ 20 ~!3 20 ~ 19 ~!3 18 ~!3 18 ~ 18 ~ 17 ~ 18 ~ 19 ~!3 15 ~ 15 ~ 15 ~ 14 ~!3 14 ~ 15 ~!3 17 ~!3 17 ~ 18 ~!3 18 ~ 19 ~!3 20 ~!3 20 ~ 21 ~!3 21 ~ 22 ~!3 23 ~!3 23 ~ 25 ~!3 25 ~ 26 ~!3 27 ~!3 27 ~ 26 ~!3 26 ~ 25 ~!3 25 ~ 25 ~ 25 ~ 23 ~!3 23 ~ 22 ~!3 21 ~ 21 ~ 21 ~ 20 ~!3 20 ~ 19 ~!3 18 ~!3 18 ~ 18 ~ 17 ~ 18 ~ 19 ~!3 15 ~ 15 ~ 15 ~ 14 ~!3 14 ~!5"
      |+ "0 1 4 5"))
     # legato "1.0 0.0 1.0 0.0 1.0 0.0 3.0 0!3 1.0 0.0 3.0 0!3 3.0 0!3 1.0 0.0 3.0 0!3 1.0 0.0 3.0 0!3 3.0 0!3 1.0 0.0 1.0 0.0 1.0 0.0 1.0 0.0 3.0 0!3 1.0 0.0 1.0 0.0 1.0 0.0 3.0 0!3 1.0 0.0 3.0 0!3 1.0 0.0 1.0 0.0 1.0 0.0 3.0 0!3 1.0 0.0 3.0 0!3 1.0 0.0 1.0 0.0 1.0 0.0 3.0 0!3 1.0 0.0 3.0 0!3 3.0 0!3 1.0 0.0 1.0 0.0 1.0 0.0 1.0 0.0 3.0 0!3 1.0 0.0 1.0 0.0 1.0 0.0 3.0 0!3 1.0 0.0 3.0 0!3 3.0 0!3 1.0 0.0 3.0 0!3 1.0 0.0 3.0 0!3 3.0 0!3 1.0 0.0 3.0 0!3 1.0 0.0 3.0 0!3 3.0 0!3 1.0 0.0 3.0 0!3 1.0 0.0 3.0 0!3 3.0 0!3 1.0 0.0 3.0 0!3 1.0 0.0 3.0 0!3 1.0 0.0 1.0 0.0 1.0 0.0 3.0 0!3 1.0 0.0 3.0 0!3 1.0 0.0 1.0 0.0 1.0 0.0 3.0 0!3 1.0 0.0 3.0 0!3 3.0 0!3 1.0 0.0 1.0 0.0 1.0 0.0 1.0 0.0 3.0 0!3 1.0 0.0 1.0 0.0 1.0 0.0 3.0 0!3 6.0 0!5"
     ] # m 4

     d1 silence

     d2 silence

do
 let asdf = 42 
     qfs = id -- $ fastsoft' 0.6 "1 1 2 1" 
     degpat = 0 -- "-3 -4 -5 -6 -7"--  0 2 3"
     octdisp = id -- (|+ nT "oct" 4 "0 12 0 -12") 
     innerfs = id fastsoft' 0.7 "[1 2 1 [1 2 1  2]]/2" 
     dest = id -- fastsoft' 0.8 "1.67" 
     lshift = id -- l 0.25 
 d4 $ lshift $ dest $ qfs $ (# amp "0.6 0.4@2 0.6 0.4@2 0.6 0.2") $ slow (64.0/4) $ octdisp $ (|* legato 1.8) $ innerfs $  stack [
     n (tScale "1 2 4 6 8 9 11" $ ("21 ~ 21 ~ 21 ~ 20 ~!3 20 ~ 19 ~!3 18 ~!3 18 ~ 17 ~!3 17 ~ 16 ~!3 15 ~!3 15 ~ 15 ~ 14 ~ 15 ~ 16 ~!3 13 ~ 13 ~ 13 ~ 12 ~!3 12 ~ 13 ~!3 21 ~ 21 ~ 21 ~ 20 ~!3 20 ~ 19 ~!3 18 ~ 18 ~ 18 ~ 17 ~!3 17 ~ 16 ~!3 15 ~!3 15 ~ 15 ~ 14 ~ 15 ~ 16 ~!3 13 ~ 13 ~ 13 ~ 12 ~!3 12 ~ 13 ~!3 14 ~!3 14 ~ 15 ~!3 15 ~ 16 ~!3 17 ~!3 17 ~ 18 ~!3 18 ~ 19 ~!3 20 ~!3 20 ~ 21 ~!3 21 ~ 22 ~!3 23 ~!3 23 ~ 22 ~!3 22 ~ 21 ~!3 21 ~ 21 ~ 21 ~ 20 ~!3 20 ~ 19 ~!3 18 ~ 18 ~ 18 ~ 17 ~!3 17 ~ 16 ~!3 15 ~!3 15 ~ 15 ~ 14 ~ 15 ~ 16 ~!3 13 ~ 13 ~ 13 ~ 12 ~!3 12 ~!5" |+ degpat) )
     # legato "1.0 0.0 1.0 0.0 1.0 0.0 3.0 0!3 1.0 0.0 3.0 0!3 3.0 0!3 1.0 0.0 3.0 0!3 1.0 0.0 3.0 0!3 3.0 0!3 1.0 0.0 1.0 0.0 1.0 0.0 1.0 0.0 3.0 0!3 1.0 0.0 1.0 0.0 1.0 0.0 3.0 0!3 1.0 0.0 3.0 0!3 1.0 0.0 1.0 0.0 1.0 0.0 3.0 0!3 1.0 0.0 3.0 0!3 1.0 0.0 1.0 0.0 1.0 0.0 3.0 0!3 1.0 0.0 3.0 0!3 3.0 0!3 1.0 0.0 1.0 0.0 1.0 0.0 1.0 0.0 3.0 0!3 1.0 0.0 1.0 0.0 1.0 0.0 3.0 0!3 1.0 0.0 3.0 0!3 3.0 0!3 1.0 0.0 3.0 0!3 1.0 0.0 3.0 0!3 3.0 0!3 1.0 0.0 3.0 0!3 1.0 0.0 3.0 0!3 3.0 0!3 1.0 0.0 3.0 0!3 1.0 0.0 3.0 0!3 3.0 0!3 1.0 0.0 3.0 0!3 1.0 0.0 3.0 0!3 1.0 0.0 1.0 0.0 1.0 0.0 3.0 0!3 1.0 0.0 3.0 0!3 1.0 0.0 1.0 0.0 1.0 0.0 3.0 0!3 1.0 0.0 3.0 0!3 3.0 0!3 1.0 0.0 1.0 0.0 1.0 0.0 1.0 0.0 3.0 0!3 1.0 0.0 1.0 0.0 1.0 0.0 3.0 0!3 6.0 0!5"
     ] # m 4

d4 silence

d5 $ drumz $ slow 2 $  n "0 2 [0 0] [2 0] [~ 0] [2 0] 0  [2 0] " # m 5

d6 $ drumz $ (# amp "[0.4 0.1]*4") $  n "5!8" # m 5
