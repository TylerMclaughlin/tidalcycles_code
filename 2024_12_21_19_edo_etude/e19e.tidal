:script "~/Music/ableton_songs/toolz.tidal"


let notez = slow (60.0/4) $ stack [
     n (tScale "5 10" $ "-3 ~ 0 ~ -3 0 ~!2 0 ~ 0!2 -3!2 ~!5 -3 0 ~ 0 ~ 0!3 ~ 0!2 ~ -3!4 ~!10 -3 0 ~ 0 ~ -3 0 ~!2 0 ~ -3 ~!7 -3 0 ~ 0 ~ -3 0 ~!2 0 ~ -3 ~!13 -3!2 0!2 ~ 0 ~ -3 ~!2 0 ~ -3 0 ~!4 0 ~!2 -3 0 ~ -3 ~!3 -3!2 ~!4 -3!3 ~!3 -3!2 0 ~!19 0 ~ -3 0 ~ 0 ~ -3 0 ~ 0 ~!3 0 ~!3 0 ~!6 0 -3 0 -3 0!2 -3 0 -3 0 -3 ~!12 0 ~ -3 0 ~ 0 ~ -3 0 ~ 0 ~!3 0 ~!3 0 ~!6 0!2 ~ 0!2 -3 0!2 ~ 0!2 -3 ~!4" )
     # amp "0.94 0.0 0.94 0.0 0.94 0.38 0!2 0.94 0.0 0.94 0.51 0.94 0.41 0!5 0.94!2 0.0 0.94 0.0 0.31 0.49 0.67 0.0 0.94!2 0.0 0.79 0.49 0.39 0.24 0!10 0.94 0.35 0.0 0.94 0.0 0.36 0.94 0!2 0.94 0.0 0.46 0!7 0.94 0.35 0.0 0.94 0.0 0.36 0.94 0!2 0.42 0.0 0.94 0!13 0.21 0.94 0.42 0.72 0.0 0.43 0.0 0.43 0!2 0.94 0.0 0.94 0.43 0!4 0.94 0!2 0.94 0.35 0.0 0.94 0!3 0.54 0.64 0!4 0.42 0.54 0.64 0!3 0.54 0.64 0.94 0!19 0.94 0.0 0.28 0.94 0.0 0.94 0.0 0.5 0.68 0.0 0.66 0!3 0.8 0!3 0.94 0!6 0.43 0.35 0.71 0.94 0.6 0.94 0.72 0.94 0.61 0.94 0.42 0!12 0.94 0.0 0.28 0.94 0.0 0.94 0.0 0.5 0.68 0.0 0.66 0!3 0.8 0!3 0.94 0!6 0.37!2 0.0 0.53!2 0.94 0.4!2 0.0 0.36!2 0.94 0!4"
     # legato "1.0 0.0 1.0 0.0 1.0!2 0!2 1.0 0.0 1.0!4 0!5 1.0!2 0.0 1.0 0.0 1.0!2 2.0 0.0 1.0!2 0.0 1.0!4 0!10 1.0!2 0.0 1.0 0.0 1.0!2 0!2 1.0 0.0 1.0 0!7 1.0!2 0.0 1.0 0.0 1.0!2 0!2 1.0 0.0 1.0 0!13 1.0!4 0.0 1.0 0.0 1.0 0!2 1.0 0.0 1.0!2 0!4 1.0 0!2 1.0!2 0.0 1.0 0!3 1.0!2 0!4 1.0!2 0!4 1.0!3 0!19 1.0 0.0 1.0!2 0.0 1.0 0.0 1.0!2 0.0 1.0 0!3 1.0 0!3 1.0 0!7 1.0 0.0 1.0 0.0 1.0!6 0!12 1.0 0.0 1.0!2 0.0 1.0 0.0 1.0!2 0.0 1.0 0!3 1.0 0!3 1.0 0!6 1.0!2 0.0 1.0!5 0.0 1.0!3 0!4",
     n (tScale "5 10" $ "~!6 -3 ~!3 -3 ~!10 -3 ~ -3 ~!23 -3 ~!4 -3 ~!13 -3 ~!4 -3 ~!21 -3 ~ -3 ~!5 0 ~!50 -3 ~!2 -3 ~ -3 ~!2 -3 ~ -3 ~!3 -3 ~!3 -3 ~!5 -3 ~ -3 ~!3 -3 ~ -3 ~!15 -3 ~!2 -3 ~ -3 ~!2 -3 ~ -3 ~!3 -3 ~!3 -3 ~!7 -3 ~!5 -3 ~!7" )
     # amp "0!6 0.38 0!3 0.51 0!10 0.31 0.0 0.94 0!23 0.94 0!4 0.35 0!13 0.94 0!4 0.56 0!21 0.94 0.0 0.94 0!5 0.94 0!50 0.28 0!2 0.35 0.0 0.38 0!2 0.73 0.0 0.56 0!3 0.6 0!3 0.94 0!5 0.94 0.0 0.43 0!3 0.4 0.0 0.3 0!15 0.28 0!2 0.35 0.0 0.38 0!2 0.73 0.0 0.56 0!3 0.6 0!3 0.94 0!7 0.94 0!5 0.94 0!7"
     # legato "0!6 1.0 0!3 1.0 0!10 1.0 0.0 1.0 0!23 1.0 0!4 1.0 0!13 1.0 0!4 1.0 0!21 1.0 0.0 1.0 0!5 1.0 0!50 1.0 0!2 1.0 0.0 1.0 0!2 1.0 0.0 1.0 0!3 1.0 0!3 1.0 0!5 1.0 0.0 1.0 0!21 1.0 0!2 1.0 0.0 1.0 0!2 1.0 0.0 1.0 0!3 1.0 0!3 1.0 0!21"
     ]
 
 

d1 $ every 9 (|+ nT "transp" 2 "0 31") $ every 7 (|- nT "transp" 2 "0 31") $ (|+ legato ("[1 2 1 1.5 1 2 1 2]/4" |+ 1)) $ fast 2 $ every 2 (fastsoft' 0.8 2) $  every 5 (fastsoft' 0.8 ("3 5 3 1" |/ 3)) $  slow (60.0/4) $ (|- n 31) $ stack [
     n (tScale' 31 "0 5 10 13 18 23 28" $ ("-3 ~ 0 ~ -3 0 ~!2 0 ~ 0!2 -3!2 ~!5 -3 0 ~ 0 ~ 0!3 ~ 0!2 ~ -3!4 ~!10 -3 0 ~ 0 ~ -3 0 ~!2 0 ~ -3 ~!7 -3 0 ~ 0 ~ -3 0 ~!2 0 ~ -3 ~!13 -3!2 0!2 ~ 0 ~ -3 ~!2 0 ~ -3 0 ~!4 0 ~!2 -3 0 ~ -3 ~!3 -3!2 ~!4 -3!3 ~!3 -3!2 0 ~!19 0 ~ -3 0 ~ 0 ~ -3 0 ~ 0 ~!3 0 ~!3 0 ~!6 0 -3 0 -3 0!2 -3 0 -3 0 -3 ~!12 0 ~ -3 0 ~ 0 ~ -3 0 ~ 0 ~!3 0 ~!3 0 ~!6 0!2 ~ 0!2 -3 0!2 ~ 0!2 -3 ~!4" |+ ((segfunc 16 $ range 0 10 $ fast 20 $ sine) |+ "<0 2 4 6>*20" )) )
     # amp "0.94 0.0 0.94 0.0 0.94 0.38 0!2 0.94 0.0 0.94 0.51 0.94 0.41 0!5 0.94!2 0.0 0.94 0.0 0.31 0.49 0.67 0.0 0.94!2 0.0 0.79 0.49 0.39 0.24 0!10 0.94 0.35 0.0 0.94 0.0 0.36 0.94 0!2 0.94 0.0 0.46 0!7 0.94 0.35 0.0 0.94 0.0 0.36 0.94 0!2 0.42 0.0 0.94 0!13 0.21 0.94 0.42 0.72 0.0 0.43 0.0 0.43 0!2 0.94 0.0 0.94 0.43 0!4 0.94 0!2 0.94 0.35 0.0 0.94 0!3 0.54 0.64 0!4 0.42 0.54 0.64 0!3 0.54 0.64 0.94 0!19 0.94 0.0 0.28 0.94 0.0 0.94 0.0 0.5 0.68 0.0 0.66 0!3 0.8 0!3 0.94 0!6 0.43 0.35 0.71 0.94 0.6 0.94 0.72 0.94 0.61 0.94 0.42 0!12 0.94 0.0 0.28 0.94 0.0 0.94 0.0 0.5 0.68 0.0 0.66 0!3 0.8 0!3 0.94 0!6 0.37!2 0.0 0.53!2 0.94 0.4!2 0.0 0.36!2 0.94 0!4"
     # legato "1.0 0.0 1.0 0.0 1.0!2 0!2 1.0 0.0 1.0!4 0!5 1.0!2 0.0 1.0 0.0 1.0!2 2.0 0.0 1.0!2 0.0 1.0!4 0!10 1.0!2 0.0 1.0 0.0 1.0!2 0!2 1.0 0.0 1.0 0!7 1.0!2 0.0 1.0 0.0 1.0!2 0!2 1.0 0.0 1.0 0!13 1.0!4 0.0 1.0 0.0 1.0 0!2 1.0 0.0 1.0!2 0!4 1.0 0!2 1.0!2 0.0 1.0 0!3 1.0!2 0!4 1.0!2 0!4 1.0!3 0!19 1.0 0.0 1.0!2 0.0 1.0 0.0 1.0!2 0.0 1.0 0!3 1.0 0!3 1.0 0!7 1.0 0.0 1.0 0.0 1.0!6 0!12 1.0 0.0 1.0!2 0.0 1.0 0.0 1.0!2 0.0 1.0 0!3 1.0 0!3 1.0 0!6 1.0!2 0.0 1.0!5 0.0 1.0!3 0!4",
     n (tScale' 31 "0 5 10 13 18 23 28" $ ("~!6 -3 ~!3 -3 ~!10 -3 ~ -3 ~!23 -3 ~!4 -3 ~!13 -3 ~!4 -3 ~!21 -3 ~ -3 ~!5 0 ~!50 -3 ~!2 -3 ~ -3 ~!2 -3 ~ -3 ~!3 -3 ~!3 -3 ~!5 -3 ~ -3 ~!3 -3 ~ -3 ~!15 -3 ~!2 -3 ~ -3 ~!2 -3 ~ -3 ~!3 -3 ~!3 -3 ~!7 -3 ~!5 -3 ~!7" |+ "<-4 2 3 4>*20" ) )
     # amp "0!6 0.38 0!3 0.51 0!10 0.31 0.0 0.94 0!23 0.94 0!4 0.35 0!13 0.94 0!4 0.56 0!21 0.94 0.0 0.94 0!5 0.94 0!50 0.28 0!2 0.35 0.0 0.38 0!2 0.73 0.0 0.56 0!3 0.6 0!3 0.94 0!5 0.94 0.0 0.43 0!3 0.4 0.0 0.3 0!15 0.28 0!2 0.35 0.0 0.38 0!2 0.73 0.0 0.56 0!3 0.6 0!3 0.94 0!7 0.94 0!5 0.94 0!7"
     # legato "0!6 1.0 0!3 1.0 0!10 1.0 0.0 1.0 0!23 1.0 0!4 1.0 0!13 1.0 0!4 1.0 0!21 1.0 0.0 1.0 0!5 1.0 0!50 1.0 0!2 1.0 0.0 1.0 0!2 1.0 0.0 1.0 0!3 1.0 0!3 1.0 0!5 1.0 0.0 1.0 0!21 1.0 0!2 1.0 0.0 1.0 0!2 1.0 0.0 1.0 0!3 1.0 0!3 1.0 0!21"
     ] # m "[1 [3,~] [4] [~,3] [1, 4]]*60"

d2 $ every 9 (|+ nT "transp" 2 "0 31") $ every 7 (|- nT "transp" 2 "0 31") $ (# legato ("[1 2 1 1.5 1 2 1 2]/4" |+ 1)) $ fast 2 $ every 2 (fastsoft' 0.8 2) $  every 5 (fastsoft' 0.8 ("3 5 3 1" |/ 3)) $  slow (60.0/4) $ (|- n 31) $ stack [
     n (tScale' 31 "0 5 10 13 18 23 28" $ ("-3 ~ 0 ~ -3 0 ~!2 0 ~ 0!2 -3!2 ~!5 -3 0 ~ 0 ~ 0!3 ~ 0!2 ~ -3!4 ~!10 -3 0 ~ 0 ~ -3 0 ~!2 0 ~ -3 ~!7 -3 0 ~ 0 ~ -3 0 ~!2 0 ~ -3 ~!13 -3!2 0!2 ~ 0 ~ -3 ~!2 0 ~ -3 0 ~!4 0 ~!2 -3 0 ~ -3 ~!3 -3!2 ~!4 -3!3 ~!3 -3!2 0 ~!19 0 ~ -3 0 ~ 0 ~ -3 0 ~ 0 ~!3 0 ~!3 0 ~!6 0 -3 0 -3 0!2 -3 0 -3 0 -3 ~!12 0 ~ -3 0 ~ 0 ~ -3 0 ~ 0 ~!3 0 ~!3 0 ~!6 0!2 ~ 0!2 -3 0!2 ~ 0!2 -3 ~!4" |+ ((segfunc 16 $ range 0 10 $ fast 20 $ sine) |+ "<0 2 4 6>*20" )) )
     # amp "0.94 0.0 0.94 0.0 0.94 0.38 0!2 0.94 0.0 0.94 0.51 0.94 0.41 0!5 0.94!2 0.0 0.94 0.0 0.31 0.49 0.67 0.0 0.94!2 0.0 0.79 0.49 0.39 0.24 0!10 0.94 0.35 0.0 0.94 0.0 0.36 0.94 0!2 0.94 0.0 0.46 0!7 0.94 0.35 0.0 0.94 0.0 0.36 0.94 0!2 0.42 0.0 0.94 0!13 0.21 0.94 0.42 0.72 0.0 0.43 0.0 0.43 0!2 0.94 0.0 0.94 0.43 0!4 0.94 0!2 0.94 0.35 0.0 0.94 0!3 0.54 0.64 0!4 0.42 0.54 0.64 0!3 0.54 0.64 0.94 0!19 0.94 0.0 0.28 0.94 0.0 0.94 0.0 0.5 0.68 0.0 0.66 0!3 0.8 0!3 0.94 0!6 0.43 0.35 0.71 0.94 0.6 0.94 0.72 0.94 0.61 0.94 0.42 0!12 0.94 0.0 0.28 0.94 0.0 0.94 0.0 0.5 0.68 0.0 0.66 0!3 0.8 0!3 0.94 0!6 0.37!2 0.0 0.53!2 0.94 0.4!2 0.0 0.36!2 0.94 0!4"
     # legato "1.0 0.0 1.0 0.0 1.0!2 0!2 1.0 0.0 1.0!4 0!5 1.0!2 0.0 1.0 0.0 1.0!2 2.0 0.0 1.0!2 0.0 1.0!4 0!10 1.0!2 0.0 1.0 0.0 1.0!2 0!2 1.0 0.0 1.0 0!7 1.0!2 0.0 1.0 0.0 1.0!2 0!2 1.0 0.0 1.0 0!13 1.0!4 0.0 1.0 0.0 1.0 0!2 1.0 0.0 1.0!2 0!4 1.0 0!2 1.0!2 0.0 1.0 0!3 1.0!2 0!4 1.0!2 0!4 1.0!3 0!19 1.0 0.0 1.0!2 0.0 1.0 0.0 1.0!2 0.0 1.0 0!3 1.0 0!3 1.0 0!7 1.0 0.0 1.0 0.0 1.0!6 0!12 1.0 0.0 1.0!2 0.0 1.0 0.0 1.0!2 0.0 1.0 0!3 1.0 0!3 1.0 0!6 1.0!2 0.0 1.0!5 0.0 1.0!3 0!4",
     n (tScale' 31 "0 5 10 13 18 23 28" $ ("~!6 -3 ~!3 -3 ~!10 -3 ~ -3 ~!23 -3 ~!4 -3 ~!13 -3 ~!4 -3 ~!21 -3 ~ -3 ~!5 0 ~!50 -3 ~!2 -3 ~ -3 ~!2 -3 ~ -3 ~!3 -3 ~!3 -3 ~!5 -3 ~ -3 ~!3 -3 ~ -3 ~!15 -3 ~!2 -3 ~ -3 ~!2 -3 ~ -3 ~!3 -3 ~!3 -3 ~!7 -3 ~!5 -3 ~!7" |+ "<-4 2 3 4>*20" ) )
     # amp "0!6 0.38 0!3 0.51 0!10 0.31 0.0 0.94 0!23 0.94 0!4 0.35 0!13 0.94 0!4 0.56 0!21 0.94 0.0 0.94 0!5 0.94 0!50 0.28 0!2 0.35 0.0 0.38 0!2 0.73 0.0 0.56 0!3 0.6 0!3 0.94 0!5 0.94 0.0 0.43 0!3 0.4 0.0 0.3 0!15 0.28 0!2 0.35 0.0 0.38 0!2 0.73 0.0 0.56 0!3 0.6 0!3 0.94 0!7 0.94 0!5 0.94 0!7"
     # legato "0!6 1.0 0!3 1.0 0!10 1.0 0.0 1.0 0!23 1.0 0!4 1.0 0!13 1.0 0!4 1.0 0!21 1.0 0.0 1.0 0!5 1.0 0!50 1.0 0!2 1.0 0.0 1.0 0!2 1.0 0.0 1.0 0!3 1.0 0!3 1.0 0!5 1.0 0.0 1.0 0!21 1.0 0!2 1.0 0.0 1.0 0!2 1.0 0.0 1.0 0!3 1.0 0!3 1.0 0!21"
     ] # m "[2 [~,2] [~] [~,2,~] [~, ~]]*60"

d3 $ mask "{t!5 f}%16" $ (# amp "0.01 0.3 0.1 0.01") $ sus 1 "1 0.3!7 0.8 0.1!7" $
     n (tScale' 31 "0 5 10 13 18 23 28"
     ("[2,4,6,8,10,12](9,16)" |+ "<0 1 2 1>/4")) #
     m "<3!3 4 4 3!3>*2" 
