setCpm(138/4)

$d1 : note(`4 3 0 4 2 0 0 3 1 3 1 2 1 4 1 4 0 2 3 1 3 4 1 2 1 4 1 1 4 4 0 0 1 3 4 0 4 2 0 0 1 4 0 0 4 1 0 1 1 0 0 1 1 0 3 4 0 0 4 4 0 4 2 0 0 3 3 3 4 4 1 4 0 2 4 0 0 1 1 0 4 2 0 0 3 4 0 0 1 4 3 4 2 4 3 1 1 0 1 1 0 0 4 4 3 4 1 0 0 2 2 1 1 4 3 3 1 0 0 2 3 3 4 3 2 4 1 4 1 1 2 2 1 2 4 3 3 3 4 0 0 4 2 1 3 2 0 0 1 4 3 1 3 4 0 0 3 3 0 0`)
  .gain(`0.2 0.3 0.2 0.32 0.3 0.25 0.18 0.3 0.2 0.2 0.25 0.32 0.38 0.38 0.25 0.32 0.38 0.3 0.38 0.25 0.32 0.72 0.7 0.65 0.662 0.7 0.25 0.38 0.65 0.7 0.38 0.3 0.7 0.18 0.25 0.67 0.3 0.18 0.32 0.38 0.2 0.38 0.25 0.32 0.32 0.25 0.3 0.38 0.32 0.18 0.2 0.18 0.2 0.2 0.38 0.25 0.3 0.2 0.25 0.18 0.3 0.7 0.65 0.38 0.2 0.32 0.38 0.32 0.3 0.72 0.2 0.25 0.7 0.38 0.38 0.3 0.3 0.32 0.18 0.38 0.72 0.7 0.38 0.32 0.662 0.67 0.18 0.18 0.32 0.25 0.3 0.38 0.18 0.2 0.67 0.25 0.3 0.7 0.65 0.65 0.25 0.32 0.65 0.18 0.38 0.3 0.25 0.2 0.25 0.72 0.3 0.32 0.65 0.38 0.32 0.38 0.32 0.25 0.3 0.38 0.38 0.32 0.18 0.32 0.18 0.25 0.25 0.72 0.18 0.2 0.72 0.32 0.3 0.3 0.2 0.32 0.18 0.2 0.25 0.25 0.18 0.25 0.18 0.18 0.7 0.65 0.3 0.18 0.67 0.72 0.67 0.7 0.38 0.25 0.2 0.25 0.662 0.72 0.32 0.18`)
  .slow(8).midi().midichan(1)

$d1 : note(`2 4 2 3 3 1 3 1 1 1 1 4 4 2 3 2 4 4 2 0 2 4 1 1 1 4 0 1 4 0 1 4 0 0 3 1 1 1 2 3 2 4 1 0 0 2 2 3 1 1 3 2 3 3 3 0 4 3 3 4 1 2 0 2 1 1 0 3 2 1 3 3 3 2 2 3 2 4 2 0`).gain(`0.3 0.2 0.25 0.2 0.65 0.38 0.32 0.25 0.32 0.18 0.72 0.25 0.2 0.662 0.25 0.25 0.72 0.25 0.18 0.67 0.32 0.18 0.38 0.2 0.18 0.32 0.25 0.2 0.18 0.2 0.2 0.3 0.2 0.2 0.7 0.3 0.2 0.38 0.18 0.2 0.32 0.3 0.18 0.2 0.3 0.32 0.18 0.38 0.32 0.3 0.2 0.25 0.38 0.2 0.18 0.32 0.18 0.18 0.18 0.662 0.25 0.25 0.65 0.7 0.2 0.38 0.72 0.18 0.25 0.32 0.65 0.25 0.32 0.72 0.32 0.25 0.65 0.32 0.2 0.72`)
    .slow(4).transpose("[36]").midi().midichan(1)


_bass : note(`2 4 2 3 3 1 3 1 1 1 1 4 4 2 3 2 4 4 2 0 2 4 1 1 1 4 0 1 4 0 1 4 0 0 3 1 1 1 2 3 2 4 1 0 0 2 2 3 1 1 3 2 3 3 3 0 4 3 3 4 1 2 0 2 1 1 0 3 2 1 3 3 3 2 2 3 2 4 2 0`).gain(`0.3 0.2 0.25 0.2 0.65 0.38 0.32 0.25 0.32 0.18 0.72 0.25 0.2 0.662 0.25 0.25 0.72 0.25 0.18 0.67 0.32 0.18 0.38 0.2 0.18 0.32 0.25 0.2 0.18 0.2 0.2 0.3 0.2 0.2 0.7 0.3 0.2 0.38 0.18 0.2 0.32 0.3 0.18 0.2 0.3 0.32 0.18 0.38 0.32 0.3 0.2 0.25 0.38 0.2 0.18 0.32 0.18 0.18 0.18 0.662 0.25 0.25 0.65 0.7 0.2 0.38 0.72 0.18 0.25 0.32 0.65 0.25 0.32 0.72 0.32 0.25 0.65 0.32 0.2 0.72`)
    .slow(4).mask(`0 [1!15 0] 0 [1!15 0]`)
  .transpose("[36]").midi().midichan(2)

$yk : note("0 0").transpose(60).midi().midichan(3)

$keys : note(`[<0 [-6 -4]>,5,10,13](<[13@2 11] 5 < [13@2 11] [13 [~ 11]]>  6>,20)`)
  .transpose(5).slow(1)
  .transpose(60).midi().midichan("4 7 4 7 4 7 4 7 4 7")._punchcard()

$auxd : note(`3 ~ 4 ~ 5  ~ < ~ 3> < 3 ~> ~ 4  
    ~ 5 ~ ~ 3   ~ 4  5 ~ ~  `).rev().late("<0.1!3 0.2>")
    .gain(perlin.range(0.6,0.9).ribbon(1,2))
    .late(0.0007).late("[0 0.001]*10")
     .transpose(36).midi().midichan(9)._punchcard()

$fill2 : note(`2 1 0 4 4 0 3 3 0 0 3 1 
              0 3 3 0 0 3 3 0 0 1 1 0`).gain(`0.18 0.2 0.3 0.18 0.32 0.2 0.25 0.2 0.2 0.32 0.25 0.2 0.38 0.67 0.7 0.18 0.32 0.72 0.67 0.18 0.3 0.25 0.18 0.32`)
      .slow(1).late(0.01).late("[0 0.006 -0.01]*8")
  .transpose(2).transpose(36).midi().midichan(10)


$keys2 : note(`[16, 19, 24]`).transpose(3)
  .transpose(60).midi().midichan(5)

$drumz3 : note(`[0@3 3@2]*4`).late(0.003)
  .transpose(36).midi().midichan(6)

$hats : note(`[~ ~ 5 ~  5]*4`)
  .transpose(36).midi().midichan(6)

$bass2 : note(`0 0@2 6 4 0@2 -3@2   -5@4 ~ <-3 0 12 0> -12@2   -3@2`).slow(2).transpose(64).midi().midichan(8)

$chord_doppler : note(`~@5 [23, 17, 19]@5 ~ ~@5 `).late(0.0028)
  .transpose(13).legato(2).transpose(60).midi().midichan(2)

$sub : note(`~ ~ 4 ~ 4`).transpose(0).legato(0.96)
  .transpose(36).midi().midichan(12)
