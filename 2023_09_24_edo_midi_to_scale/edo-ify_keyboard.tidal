-- tScale "0 2 3 5 7 9 10" 
-- tScale' 31 "0 5 8 13 18 23 26" 
0 5 10  13 18 23 28 

let scale31 = tScale' 31 (" 5 10 13 18 23 28  31" |- 2 ) 
    piano s = slow (160.0/4) $ stack [
     n (s $ "7 ~!4 -6 ~ 4 ~!4 6 ~ -11 ~ -6 ~ -7 ~!6 1 0 ~ -2 ~ -6 ~!9 -2 ~!3 -2 ~!8 -10 ~!3 -4 ~ -3 ~!2 -4 ~ 1 ~!4 -12 ~ -7 ~ -8 ~ -4 ~!3 1 ~ -1 ~ -4 ~!2 3 ~!2 -10 ~!2 -4 -6 ~!2 -1 ~ 5 ~ 0 ~ 3 1 -1 ~ -4 ~!2 -6 3 ~ 1 -11 ~ -7 ~ -8 ~!4 0 -1 -3 -4 ~ -1 ~!3 -8 -6 ~!6 -4 ~!4 -1 ~!2 -4 ~!2 0 ~ -14 ~!2 -10 -4 ~!2 3 -3 ~ -4 1 ~ -1 -4 -6 ~!3 -3 ~!5 -5 ~ -1 ~ 1 ~ -10 ~ -8 ~!4 -2 ~!2 0 ~ 1 ~!3 -1 ~ -2 ~!5 -2 ~!4 -7 ~!2 -3 ~!4 3 6 ~ 8 ~!3 3 ~!3 -1 ~ -3 ~ -5 ~ 1 ~!6 -10 ~ -8 -6 ~!5 3 ~ 5 ~ 3 ~ 0 ~!5 -6 -8 ~!3 -2 ~!4 -2 ~!5 -10 ~ -7 ~!6 3 -4 ~ 1 ~ -1 ~!2 -6 ~ -7 ~ -10 ~ -1 ~!5 -1 ~ -13 ~ -8 ~ -10 ~!3 3 ~ -4 0 ~ -2 0 ~ 3 ~ 6 ~ 7 ~!4 6 ~ 4 ~ 5 ~!4 -1 ~ 1 ~!3 10 ~ 7 5 ~ 3 ~ 1 ~!2 -1 ~!2 -3 ~ 7 ~!4 7 ~ 5 ~!3 -3 0 ~!3 10 ~ 8 ~ 4 ~ 1 4 ~!4 1 ~!6 -5 ~ 0 ~ 1 ~!4 -3 -1 ~!4 5 6 ~!2 8 ~!3 6 ~ 7 ~!3 3 ~ 4 ~!3 0 ~ 1 ~!3 -5 ~ -3 ~!2 1 3 ~ 5 ~ 6 ~ 7 ~ 5 ~ 6 ~!3 3 ~!16 -8 -6 ~ -2 3 0 ~ -2 -3 ~ -6 ~ 0 ~!3 -9 -7 ~ -4 ~ 1 -1 -3 ~ -4 -7 ~ -1 ~!2 -10 ~ -8 -6 ~!2 -4 ~ -2 ~!2 -6 -8 -10 ~ -4 ~!3 -10 ~ -7 -6 ~ -4 -1 ~!2 -6 -8 ~ 0 ~!2 -6 -13 ~!2 -10 ~ -6 -4 ~ -1 ~ 3 ~!3 1 ~ -1 -7 ~ -5 -3 ~!3 5 ~ 3 ~!2 -1 -3 ~ 8 ~!2 -8 ~!2 -6 -2 ~ 0 ~ 3 5 ~ 3 0 ~ -2 0 ~!3 -2 ~!39" )
     # amp "0.5 0!4 0.37 0.0 0.42 0!4 0.54 0.0 0.3 0.0 0.43 0.0 0.32 0!6 0.4 0.37 0.0 0.38 0.0 0.35 0!9 0.32 0!3 0.35 0!8 0.33 0!3 0.45 0.0 0.41 0!2 0.43 0.0 0.44 0!4 0.38 0.0 0.38 0.0 0.34 0.0 0.36 0!3 0.35 0.0 0.44 0.0 0.37 0!2 0.48 0!2 0.43 0!2 0.44 0.32 0!2 0.52 0.0 0.5 0.0 0.32 0.0 0.43 0.46 0.31 0.0 0.28 0!2 0.36 0.4 0.0 0.32 0.38 0.0 0.39 0.0 0.44 0!4 0.42 0.36 0.33 0.39 0.0 0.46 0!3 0.41!2 0!6 0.29 0!4 0.44 0!2 0.29 0!2 0.44 0.0 0.29 0!2 0.52 0.34 0!2 0.5 0.25 0.0 0.41 0.47 0.0 0.39!2 0.28 0!3 0.29 0!5 0.39 0.0 0.47 0.0 0.54 0.0 0.42 0.0 0.28 0!4 0.46 0!2 0.45 0.0 0.47 0!3 0.46 0.0 0.35 0!5 0.31 0!4 0.31 0!2 0.31 0!4 0.31 0.38 0.0 0.47 0!3 0.12 0!3 0.31 0.0 0.26 0.0 0.3 0.0 0.37 0!6 0.35 0.0 0.29 0.34 0!5 0.32 0.0 0.6 0.0 0.28 0.0 0.2 0!5 0.3 0.23 0!3 0.5 0!4 0.36 0!5 0.35 0.0 0.4 0!6 0.66 0.42 0.0 0.39 0.0 0.32 0!2 0.35 0.0 0.24 0.0 0.32 0.0 0.33 0!5 0.29 0.0 0.4 0.0 0.4 0.0 0.22 0!3 0.59 0.0 0.23 0.27 0.0 0.32 0.36 0.0 0.35 0.0 0.47 0.0 0.36 0!4 0.39 0.0 0.3 0.0 0.35 0!4 0.27 0.0 0.39 0!3 0.51 0.0 0.35 0.3 0.0 0.32 0.0 0.32 0!2 0.34 0!2 0.17 0.0 0.43 0!4 0.3 0.0 0.32 0!3 0.3 0.31 0!3 0.54 0.0 0.35 0.0 0.28 0.0 0.4 0.35 0!4 0.25 0!6 0.33 0.0 0.33 0.0 0.32 0!4 0.35 0.4 0!4 0.5 0.39 0!2 0.54 0!3 0.43 0.0 0.42 0!3 0.42 0.0 0.35 0!3 0.3 0.0 0.36 0!3 0.31 0.0 0.39 0!2 0.37 0.36 0.0 0.43 0.0 0.3 0.0 0.38 0.0 0.32 0.0 0.38 0!3 0.27 0!16 0.42 0.4 0.0 0.41 0.39 0.37 0.0 0.4 0.43 0.0 0.28 0.0 0.4 0!3 0.34 0.35 0.0 0.33 0.0 0.5 0.47 0.45 0.0 0.43!2 0.0 0.43 0!2 0.46 0.0 0.36 0.38 0!2 0.3 0.0 0.39 0!2 0.43 0.39 0.43 0.0 0.43 0!3 0.38 0.0 0.4 0.44 0.0 0.48 0.47 0!2 0.35!2 0.0 0.46 0!2 0.3 0.44 0!2 0.35 0.0 0.31 0.39 0.0 0.28 0.0 0.43 0!3 0.32 0.0 0.5 0.38 0.0 0.4 0.46 0!3 0.5 0.0 0.42 0!2 0.4 0.31 0.0 0.54 0!2 0.31 0!2 0.39 0.33 0.0 0.24 0.0 0.5 0.53 0.0 0.29 0.42 0.0 0.25 0.43 0!3 0.45 0!38 0.03"
     # legato "0.0 3.0 0!3 2.0 0.0 3.0 0!4 2.0 0.0 16.0 0.0 10.0 0.0 7.0 0!6 3.0 2.0 0.0 2.0 0.0 9.0 0!9 2.0 0!3 11.0 0!8 7.0 0!3 2.0 0.0 4.0 0!2 1.0 0.0 3.0 0!2 4.0 0.0 3.0 0.0 10.0 0.0 9.0 0.0 4.0 0!3 2.0 0.0 5.0 0.0 1.0 0!2 8.0 0!2 4.0 0!2 7.0 6.0 0!2 2.0 0.0 4.0 0.0 2.0 0.0 2.0 8.0 2.0 0.0 2.0 0!3 3.0 0.0 3.0 9.0 0.0 8.0 0.0 5.0 0!4 1.0!2 2.0!2 0.0 2.0 0!3 7.0 4.0 0!6 5.0 0!4 6.0 0!2 2.0 0!2 3.0 0.0 3.0 0!2 4.0 2.0 0!2 5.0 2.0 0.0 1.0 2.0 0.0 1.0!2 7.0 0.0 2.0 0.0 9.0 0!7 2.0 0.0 4.0 0.0 6.0 0.0 4.0 0!4 1.0 0!2 2.0 0.0 4.0 0!3 2.0 0.0 3.0 0!5 1.0 0!4 6.0 0!2 4.0 0!4 1.0 2.0 0.0 2.0 0!3 3.0 0!3 1.0 0.0 1.0 0.0 1.0 0.0 3.0 0!6 12.0 0.0 10.0 9.0 0!5 2.0 0.0 3.0 0.0 2.0 0.0 7.0 0!5 1.0 2.0 0!3 4.0 0!4 5.0 0!3 3.0 0.0 10.0 0.0 9.0 0!6 4.0 2.0 0.0 3.0 0.0 4.0 0!2 2.0 0.0 2.0 0.0 1.0 0.0 5.0 0!5 2.0 0.0 7.0 0.0 5.0 0.0 3.0 0!3 2.0 0.0 1.0!2 0.0 1.0!2 0.0 1.0 0.0 2.0 0.0 2.0 0!4 2.0 0.0 2.0 0.0 3.0 0!2 2.0 0.0 6.0 0.0 4.0 0!3 2.0 0.0 2.0!2 0.0 2.0 0.0 1.0 0!2 2.0 0!2 1.0 0.0 2.0 0!4 2.0 0.0 2.0 0.0 3.0 0.0 8.0 6.0 0!3 2.0 0.0 1.0 0.0 1.0 0.0 1.0 4.0 0!4 5.0 0!6 1.0 0.0 2.0 0.0 4.0 0.0 4.0 0!2 4.0 3.0 0!4 1.0 2.0 0!2 3.0 0!3 2.0 0.0 2.0 0!3 2.0 0.0 2.0 0!3 2.0 0.0 2.0 0.0 3.0 0.0 6.0 0.0 4.0 0!2 1.0 2.0 0.0 1.0 0.0 2.0 0.0 2.0 0.0 2.0 0.0 2.0 0!3 13.0 0!16 4.0 3.0 0.0 1.0 2.0!2 0!2 1.0 0.0 1.0 0.0 2.0 0!3 6.0 5.0 0.0 2.0 0.0 1.0 2.0!2 0.0 1.0!2 0.0 2.0 0!2 6.0 0.0 5.0 4.0 0!2 2.0 0.0 2.0 0!2 1.0!3 0.0 3.0 0.0 3.0 0.0 2.0 0.0 1.0 2.0 0.0 1.0!2 0!2 1.0 2.0 0.0 2.0 0!2 1.0 5.0 0!2 2.0 0.0 2.0!2 0.0 1.0 0.0 5.0 0!3 2.0 0.0 1.0 7.0 0.0 6.0 5.0 0!3 2.0 0.0 2.0 0!2 1.0 2.0 0.0 2.0 0!2 11.0 0!2 8.0 2.0 0.0 1.0 0.0 1.0 2.0 0.0 1.0!2 0.0 1.0 2.0 0!3 2.0 0!38 1.0",
     n (s $ "~!2 3 ~!6 5 ~!4 5 ~!4 -2 ~!12 -7 ~!16 -13 ~!5 -8 ~!11 0 ~!9 -3 ~!19 0 ~!21 -3 ~!9 -4 ~!4 0 ~!6 -6 ~!11 -8 ~!3 -3 ~!11 -5 ~!17 -6 ~!3 -1 ~!5 -3 ~!5 -4 ~!9 -5 ~!2 -1 ~!8 6 ~!3 1 ~!19 -4 ~!11 -2 ~!6 -10 ~!4 -8 ~!5 -12 ~!4 -6 ~!11 -4 ~!11 -4 ~!7 -6 ~!17 5 ~!9 -3 ~!4 3 ~!19 5 ~!6 -5 ~!4 4 ~!10 0 ~!4 0 ~!10 -6 ~!5 0 ~!5 7 ~!2 5 ~!5 4 ~!5 5 ~!5 -7 ~!4 -1 ~!14 8 ~!20 -3 ~!11 -2 ~!5 -3 ~!9 -3 ~!4 -4 ~!4 -4 ~!7 -12 ~!8 -4 ~!6 -1 ~!5 -8 ~!3 1 ~!3 -6 ~ -4 ~!7 -1 ~!4 0 ~!6 6 7 ~!16 -3 ~!41" )
     # amp "0!2 0.38 0!6 0.5 0!4 0.54 0!4 0.46 0!12 0.26 0!16 0.38 0!5 0.36 0!11 0.5 0!9 0.49 0!19 0.39 0!21 0.51 0!9 0.34 0!4 0.41 0!6 0.32 0!11 0.39 0!3 0.36 0!11 0.32 0!17 0.33 0!3 0.39 0!5 0.35 0!5 0.31 0!9 0.34 0!2 0.32 0!8 0.31 0!3 0.17 0!19 0.29 0!11 0.28 0!6 0.53 0!4 0.38 0!5 0.45 0!4 0.41 0!11 0.31 0!11 0.28 0!7 0.35 0!17 0.28 0!9 0.34 0!4 0.39 0!19 0.28 0!6 0.42 0!4 0.29 0!10 0.22 0!4 0.27 0!10 0.41 0!5 0.39 0!5 0.31 0!2 0.35 0!5 0.31 0!5 0.42 0!5 0.27 0!4 0.43 0!14 0.5 0!20 0.38 0!11 0.39 0!5 0.43 0!9 0.35 0!4 0.41 0!4 0.43 0!7 0.48 0!8 0.25 0!6 0.39 0!5 0.39 0!3 0.42 0!3 0.53 0.0 0.31 0!7 0.39 0!4 0.38 0!6 0.57 0.47 0!16 0.39 0!41"
     # legato "1.0!2 4.0 0!6 3.0 0!4 2.0 0!4 5.0 0!12 8.0 0!11 6.0 0!4 9.0 0!5 6.0 0!11 7.0 0!9 2.0 0!19 1.0 0!21 2.0 0!9 2.0 0!4 11.0 0!6 1.0 0!11 7.0 0!3 2.0 0!9 2.0 0.0 5.0 0!17 2.0 0!3 2.0 0!5 1.0 0!5 3.0 0!8 3.0 6.0 0!2 2.0 0!8 2.0 0!3 5.0 0!19 7.0 0!11 2.0 0!13 4.0 0!3 13.0 0!4 7.0 0!11 3.0 0!11 2.0 0!7 4.0 0!17 3.0 0!6 3.0 0!2 9.0 0!4 2.0 0!19 2.0 0!6 10.0 0!4 1.0 0!10 2.0 0!4 2.0 0!8 3.0 0.0 8.0 0!5 1.0 0!5 1.0 0!2 2.0 0!5 2.0 0!5 2.0 0!5 8.0 0!4 2.0 0!14 15.0 0!18 2.0 1.0 2.0 0!11 2.0 0!5 1.0 0!9 1.0 0!4 1.0 0!4 2.0 0!5 3.0 0.0 4.0 0!8 2.0 0!6 2.0 0!5 1.0 0!3 2.0 0!3 1.0 0.0 1.0 0!7 2.0 0!4 2.0 0!6 2.0 3.0 0!16 1.0 0!41",
     n (s $ "~!21 0 ~!12 -3 ~!86 -1 ~!66 -4 ~!29 1 ~!31 -2 ~!12 -4 ~!22 -4 ~!31 -4 ~!31 5 ~!48 -3 ~!15 3 ~!152 0 ~!71" )
     # amp "0!21 0.46 0!12 0.35 0!86 0.47 0!66 0.35 0!29 0.32 0!31 0.29 0!12 0.33 0!22 0.45 0!31 0.48 0!31 0.46 0!48 0.26 0!15 0.34 0!152 0.39 0!71"
     # legato "0!21 2.0 0!12 2.0 0!86 1.0 0!66 2.0 0!29 2.0 0!31 2.0 0!12 1.0 0!22 2.0 0!31 2.0 0!31 2.0 0!48 2.0 0!15 1.0 0!152 2.0 0!71",
     n (s $ "~!22 5 ~!13 -1 ~!215 0 ~!35 -1 ~!351" )
     # amp "0!22 0.38 0!13 0.35 0!215 0.31 0!35 0.41 0!351"
     # legato "0!22 3.0 0!13 5.0 0!215 2.0 0!35 2.0 0!351"
     ]
    piano31 = piano scale31 
    drumnotes = piano (tScale (" 0 1 2 3 4 5 6 7" ))


d1 $ (|+ n 0) $ (|+ nT "oct" 9 "0!8 31") $ (|/ amp "< 1 1  1.5  1.1 1 1.4 1  1.7 1 1.9>") $
       sliceDiv 2 4 4 "< 1 1  7  4 1 6 1  7 1 8>" $ piano31 # m 1

d2 $  (|+ n "[0 8 0 24 0 8 24 24 ]/16") $ drumz  $ (|/ amp "< 1 1  1.5  1.1 1 1.4 1  1.7 1 1.9>") $ gas 4 "0.3 0.25 0.2 0.27" $  
       sliceDiv 2 4 4 "< 1 1  7  4 1 6 1  7 1 1>" $  struct "<[t(9,16)]!3 t(11,16)>" $  nT "dd" 9 "38 1 1 6 1 4 38 5 3" # m 3

d3 $ groove 8 "0 0.004" $ drumz $ (0.25 <~) $ (# amp "<0.5 [0.3   ]  0.5 0.4 > 0.5") $ "<0 <[[0 0 0 0] [0 0 ~ ~] ] [0!5]> 0 <[0 ~ [0 0]] [0!3]> >  [0,3] " # m 3

d3 silence

